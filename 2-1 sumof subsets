#include <stdio.h>

void findSubsets(int s[], int subset[], int n, int subset_size, int total, int node_count, int sum) {
    if (total == sum) {
        printf("Subset: ");
        for (int i = 0; i < subset_size; i++) {
            printf("%d ", subset[i]);
        }
        printf("\n");
        return;
    }
    if (node_count == n || total > sum) {
        return;
    }

    for (int i = node_count; i < n; i++) {
        subset[subset_size] = s[i];
        findSubsets(s, subset, n, subset_size + 1, total + s[i], i + 1, sum);
    }
}

int main() {
    int s1[] = {6, 2, 8, 1, 5};
    int target_sum1 = 9;
    int n1 = sizeof(s1) / sizeof(s1[0]);
    int subset1[n1];
    printf("Subsets for {6, 2, 8, 1, 5} with sum %d are:\n", target_sum1);
    findSubsets(s1, subset1, n1, 0, 0, 0, target_sum1);

    int s2[] = {6, -4, 7, -1, 5, 2, 8, 1};
    int target_sum2 = 10;
    int n2 = sizeof(s2) / sizeof(s2[0]);
    int subset2[n2];
    printf("Subsets for {6, -4, 7, -1, 5, 2, 8, 1} with sum %d are:\n", target_sum2);
    findSubsets(s2, subset2, n2, 0, 0, 0, target_sum2);

    return 0;
}
